=== 게임 시작 요청 [SOCKET]
게임 시작 준비가 되었음을 의미하는 요청입니다.

두명 모두 시작 준비가 되어야 게임이 시작됩니다.

image::./images/game_start.png[]

Reject Response의 경우
<<GAME-REJECT-INVITATION-SECTION, 게임 초대 거절>> 문서를 참고하라.

User2가 40초 동안 응답이 없을 경우 거절로 취급하고 소켓을 종료한다.

==== Request Message
[source,plain,options="nowrap"]
----
SEND
destination:/app/games/{gameId}/gamer/{memberId}/start

{
  "command": "START",
  "data": null
}
----

|===
|Path|Type|Value|Description

|`+command+`
|`+String+`
|START
|게임 시작 요청 커맨드

|`+data+`
|`+JSON+`
|null
|START 요청시에는 null 값으로 보내줍니다.

|===

==== Response1
상대방은 아직 게임 시작 준비가 되어있지 않았을 때 반환됩니다.

Response2응답이 올 때 까지 대기해야 합니다.

[source,json,options="nowrap"]
----
{
  "isSuccess": true,
  "command": "START",
  "statusCode": 200,
  "code": "COOK01",
  "data": {
    "gameId": 1,
    "isMatched": false, <- 확인
    "startTime": null   <- 확인
  }
}
----

==== Response2

[source,json,options="nowrap"]
----
{
  "isSuccess": true,
  "command": "START",
  "statusCode": 200,
  "code": "COOK01",
  "data": {
    "gameId": 1,
    "isMatched": true, <- 확인
    "startTime": "12:00:00" <- 확인
  }
}
----

|===
|Path|Type|Value|Description

|`+isSuccess+`
|`+Boolean+`
|true
|요청 성공 여부

|`+command+`
|`+String+`
|START
|게임 시작 요청 커맨드

|`+statusCode+`
|`+Number+`
|200
|statusCode

|`+code+`
|`+String+`
|COOK01
|요청 결과 코드

|`+data+`
|`+JSON+`
|
|결과값

|data.gameId
|Number
|1
|게임번호

|data.isMatched
|Boolean
|true/false
|게임 시작 여부

상대방이 시작 대기중 O: true
상대방이 시작 대기중 X: false


|data.startTime
|String
|2024-12-19T22:51:02
|
isMatched가 false: null
isMatched가 true : 시작시각

|===

isMatched가 true인 경우 매칭이 성사됐음을 의미합니다.

게임이 곧 시작 되며 startTime에 맞춰 게임을 시작하면 됩니다.

==== Error Response
include::{snippets}/game-start-error-response-docs-test/error-code-response-test/common-error-code-response-fields-beneath-errorCodes.adoc[]

- NOT_AVAILABLE_GAME

 1. 이미 한번 거절한 게임에 대해서 시작 요청을 보낼 경우
 2. 내가 아니라 다른 유저가 거절한 상태일 때도 에러 반환.

- BAD_REQUEST

1. 잘못된 COMMAND가 전송된 경우

'''


